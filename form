<?
    // working - 2010-08-07 [추가] : 폼타입 삭제 기능 작업
    // working - 2010-08-23 [변경] : Hard Coding으로 들어온 부분에 대해서 처리 작업
    // working - 2010-12-07 [오류] : email_id가 박혀있는 부분 수정 작업
    // working - 2011-01-26 [오류] : 타입 기능 확장 작업
    // working - 2011-02-09 [추가] : category_display_yn 기능 추가 작업
    // working - 2011-02-10 [추가] : 카테고리도 같이 삭제한다.
    // working - 2011-06-17 [추가] : 메인페이지에 formQuickRequest 데이터 쓰기 - 퀵부분
         
    require_once("../../config/init_local.php");
    /////////////////////////////////////////////////////////////////////////////////
    // #variable 
    $debugLocal = "N";

    require_once($baseDir."libraries/file.php");
    /////////////////////////////////////////////////////////////////////////////////
    // #request POST
    // - actionType : insert, update
    if( $debugLocal == "Y" || false)
    {
        echo "request POST<br />";
        echo "<pre>";
        echo print_r($_POST);
        echo "</pre>";
        echo "request POST<br />";
        echo "<pre>";
        echo print_r($_FILES);
        echo "</pre>";
        exit;
    }
    
    /////////////////////////////////////////////////////////////////////////////////
    // #process 1. 컨트롤 로드
    if(!isset($form_control))
    {
    	require_once($baseDir."form/form_control.php");
    	$form_control = new Form_control();                
    	if( $debugLocal == "Y" || false)
    	{
    		$form_control->debugModeOn();		
    	}
    }
    
    $query = 'select bad_words, bad_words_online from gm_site ';
    $res = mysql_query($query);
    $row = mysql_fetch_assoc($res);
    $bad_words = $row['bad_words'];
    $bad_words_online = $row['bad_words_online'];

    if($title_en == 'counsel_form') {
        if($bad_words_online != '') {
            $bad_words_arr = explode(',', $bad_words_online);
        }
    } else {
        if($bad_words != '') {
            $bad_words_arr = explode(',', $bad_words);
        }
    }
    if($_POST) {
        if(count($bad_words_arr) > 0) {
            for($i=0; $i<count($bad_words); $i++) {
                $str2 = $bad_words_arr[$i];
                foreach($_POST as $value) {
                    if(!is_array($value)) {
                        if(strpos($value, $str2) !== false) {
?>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript">
    alert('포함될 수 없는 문자열이 포함되어 있습니다. <?=$str2?>');
    history.back();
</script>
<?php
exit;
                        }
                    }
                }
            }
        }
    }
    if($actionType == "update")
    {        
        /////////////////////////////////////////////////////////////////////////////////
        // #request POST
        // - category_display_yn
        $isSuccess = $form_control->updateData($number, $titleName, $code, $forward_email, $title_enName, $skin, $head_code, $category_yn);
        
        $title_enArray = $_POST['title_en'];
        $title_koArray = $_POST['title_ko'];
        $selectNumArray = $_POST['selectNum'];
        $field_typeArray = $_POST['field_type'];
        $datasArray = $_POST['datas'];
        $sizeArray = $_POST['size'];
        
        for($i=0; $i < sizeof($selectNumArray); $i++)
        {
            $selectNum = intval($selectNumArray[$i]);
            $display_yn_name = "display_yn_".$selectNumArray[$i];
            $necessary_yn_name = "necessary_yn_".$selectNumArray[$i];
            $display_yn = $$display_yn_name;
            $necessary_yn = $$necessary_yn_name;
                            
            if($selectNum < 10000)
            {
                $form_control->updateTypeData($selectNum, $title_enArray[$i], $title_koArray[$i], $field_typeArray[$i], $datasArray[$i], $sizeArray[$i], $display_yn, $necessary_yn);        
            }
            else
            {
                $form_control->insertTypeData($number, "gm_form_".$title_enName, $title_enArray[$i], $title_koArray[$i], $field_typeArray[$i], $datasArray[$i], $sizeArray[$i], $display_yn, $necessary_yn);   
            }                    
        }
        
        if(!isset($menu_control))
        {
            require_once($baseDir."menu/menu_control.php");
            $menu_control = new Menu_control();
            if( $debugLocal == "Y" || false)
        	{
        		$menu_control->debugModeOn();		
        	}                
        }
        
        alert($titleDisplay." 정보를 수정하였습니다.");            
        
        /////////////////////////////////////////////////////////////////////////////////
        // #process 1. 카테고리 처리
        if(!isset($category_model))
        {
            require_once($baseDir."category/category_control.php");
            $category_control = new Category_control();
            if( $debugLocal == "Y" | false)
        	{
        		$$category_control->debugModeOn();		
        	}                
        }
        
        if($category_yn == "Y")
        {
            $category_control->insertDataNoExist($number, $title_enName, "form");    
        }
        else 
        {
            $category_control->deleteDataExist($number, $title_enName, "form");
        }
        $directUrl = $baseUrl."gadmin/index.php?menu=form&submenu=form_list";           
        // #todo 여기에서 형변환 부분을 작업해 주어야 겠지
    }
    if($actionType == "insert")
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #request POST
        // - number : 1
        // - newNum : 
        // - titleName :    한글 명칭 
        // - title_enName :     영문 명칭
        // - code         :     코드명
        // - forward_email:     포워딩 주소
        // - in_title_ko
        // - in_title_en
        // - category_yn
        
        $insertId = $form_control->insertData($titleName, $code, $forward_email, $title_enName, $skin, $head_code, $category_yn);
        
        if( $debugLocal == "Y" || false)
        {
            echo "insertId : [".$insertId."]<br />";
        }        
        if( !$insertId )
        {
            alert("폼 정보를 등록하지못했습니다.");
        }
        else
        {
            $title_enArray = $_POST['title_en'];
            $title_koArray = $_POST['title_ko'];
            $selectNumArray = $_POST['selectNum'];
            $field_typeArray = $_POST['field_type'];
            $datasArray = $_POST['datas'];
            $sizeArray = $_POST['size'];
            
            for($i=0; $i < sizeof($selectNumArray); $i++)
            {
                if( $debugLocal == "Y" || false)
                {
                    echo "display_yn_selectNumArray[$i] : ["."display_yn_".$selectNumArray[$i]."]<br />";
                }
                $display_yn_name = "display_yn_".$selectNumArray[$i];
                $necessary_yn_name = "necessary_yn_".$selectNumArray[$i];
                $display_yn = $$display_yn_name;
                $necessary_yn = $$necessary_yn_name;
                
                $form_control->insertTypeData($insertId, "gm_form_".$title_enName, $title_enArray[$i], $title_koArray[$i], $field_typeArray[$i], $datasArray[$i], $sizeArray[$i], $display_yn, $necessary_yn);                    
            }
        }
        
        /////////////////////////////////////////////////////////////////////////////////
        // #process 1. 카테고리 처리
        if(!isset($category_model))
        {
            require_once($baseDir."category/category_control.php");
            $category_control = new Category_control();
            if( $debugLocal == "Y" | false)
        	{
        		$$category_control->debugModeOn();		
        	}
        }
        
        if($category_yn == "Y")
        {
            $category_control->insertDataNoExist($insertId, $title_enName, "form");    
        }
        else 
        {
            $category_control->deleteDataExist($insertId, $title_enName, "form");
        }

		alert("폼 정보를 등록하였습니다.");
		
        $directUrl = $baseUrl."gadmin/index.php?menu=form&submenu=form_list";     
        
        // #todo 여기에서 형변환 부분을 작업해 주어야 겠지      
    }
    else if($actionType == "delete")
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #request POST
        // - idx
        
        /////////////////////////////////////////////////////////////////////////////////
        // #process 메뉴 추가 하기
        $isSuccess = $form_control->delete($idx);
       
       if($isSuccess)
       {
            if(!isset($category_control))
            {
                require_once($baseDir."category/category_control.php");
                $category_control = new Category_control();
                if( $debugLocal == "Y" | false)
            	{
            		$category_control->debugModeOn();		
            	}                
            }
            
            $category_control->deleteDataExist($idx, "", "form");        
       }
        
       if($isSuccess)
       {
            alert("폼 정보를 삭제하였습니다.");
       }
       else
       {
            alert("폼 정보를 삭제하지못했습니다.");
       }                
                                                   
        $directUrl = $baseUrl."gadmin/index.php?menu=form&submenu=form_list";                        
    }
    else if($actionType == "formRequest" || $actionType == "formRequest2" || $actionType == "formQuickRequest"
     || $actionType == "formRequest_popup")
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #request POST
        // - title : 질문
        if($actionType == "formRequest" || $actionType == "formRequest2")
        {
            if($ss_idx == "")
            {
                if($_SESSION["ss_captcha"] != $captcha)
                {
                    alert("인증번호 입력에 실패하였습니다.", "back");
                    $isCheckOK = false;
                    exit;    
                }
            }
        }
        
        $dataArray = array();
        $fileArray = array();
        
        $dataArray['title'] = $title;
        $dataArray['category_type'] = $category_type;
        $dataArray['register_date'] = "now";
        $dataArray['member_idx'] = $member_idx;
        if(!isset($common_control))
        {
            require_once($baseDir."model/common_control.php");
            $common_control = Common_control::singleton();
            if( $debugLocal == "Y" | false)
        	{
        		$common_control->debugModeOn();		
        	}                
        }
        $formTypeResult = $form_control->getTypeDatasByTitleEn($title_en);
        $field_typeResult = $common_control->getType("field_type");
        
        if( $debugLocal == "Y" || false)
        {
            echo "formTypeResult<br />";
            echo "<pre>";
            echo print_r($formTypeResult);
            echo "</pre>";
        }
        
        if(sizeof($formTypeResult)>0)
        {
            reset($formTypeResult);
            
            foreach($formTypeResult as $key => $data)
            {
                $data_title_en = $data['title_en'];
                $data_title_ko = $data['title_ko'];
                $data_display_yn = $data['display_yn'];
                $data_necessary_yn = $data['necessary_yn'];
                $data_field_type = $field_typeResult[$data['field_type']]['comment'];
                $data_data = $data['datas'];
                $selectArray = explode(",", $data['datas']);
                $data_size = $data['size'];
                
                if($data_display_yn == "Y")
                {
                    $isCheck = true;
                }
                
                if(!$isCheck)
                    continue;
                
                if($data_field_type == "telephone"
                                    || $data_field_type == "celphone"
                        )
                {
                    $inputPhone1 = $_POST[$data_title_en."1"];
                    $inputPhone2 = $_POST[$data_title_en."2"];
                    $inputPhone3 = $_POST[$data_title_en."3"];
                    
                    $form_data = $inputPhone1."-".$inputPhone2."-".$inputPhone3;
                    $dataArray[$data_title_en] = $form_data;                                
                }
                else if($data_field_type == "email")
                {
                    $dataArray[$data_title_en.'_id'] = $_POST[$data_title_en.'_id'];
                    $dataArray[$data_title_en.'_host'] = $_POST[$data_title_en.'_host'];
                    $dataArray[$data_title_en.'_type'] = $_POST[$data_title_en.'_type'];
                    $recieve_mail_address = $dataArray[$data_title_en.'_id']."@".$dataArray[$data_title_en.'_host'];       
                }
                else if($data_field_type == "checkbox")
                {
                    if(is_array($_POST[$data_title_en]))
                    {
                        $checkboxArray = $_POST[$data_title_en];
                        $checkboxString = implode(",", $checkboxArray);    
                    }
                    else
                    {
                        $checkboxString = $_POST[$data_title_en];
                    }
                    $dataArray[$data_title_en] = $checkboxString;
                }
                else if($data_field_type == "ssn")
                {
                    $dataArray[$data_title_en."_1"] = $_POST[$data_title_en."_1"];
                    $dataArray[$data_title_en."_2"] = $_POST[$data_title_en."_2"];               
                }
                else if($data_field_type == "date_term")
                {
                    $dataArray[$data_title_en."_start"] = $_POST[$data_title_en."_start"];                               
                    $dataArray[$data_title_en."_end"] = $_POST[$data_title_en."_end"];
                }                
                else if($data_field_type == "date_y")
                {
                    $dataArray[$data_title_en] = $_POST[$data_title_en."_year"];
                }
                else if($data_field_type == "date_ym")
                {
                    $form_year = $_POST[$data_title_en."_year"];
                    $form_month = intval($_POST[$data_title_en."_month"]);
                    
                    $dataArray[$data_title_en] = $form_year."-".fillZero($form_month, 2);                                
                }
                else if($data_field_type == "company")
                {
                    $company_type = $_POST[$data_title_en."1"];
                    $company_detail = $_POST[$data_title_en."_detail"];
                    
                    $dataArray[$data_title_en] = $company_type."#!!#".$company_detail;                            
                }            
                
                
                else if($data_field_type == "address_sidogu")
                {
                    $sido = $_POST[$data_title_en];
                    $gugun = $_POST[$data_title_en."_detail"];
                         
                    $dataArray[$data_title_en] = $sido."#!!#".$gugun;                           
                }
                else if($data_field_type == "address_sidogueup")
                {
                    $sido = $_POST[$data_title_en];
                    $gugun = $_POST[$data_title_en."_detail"];
                    $eup = $_POST[$data_title_en."_detail2"];
                         
                    $dataArray[$data_title_en] = $sido."#!!#".$gugun."#!!#".$eup;                           
                }
                else if($data_field_type == "file")
                {
                    $fileArray[$data_title_en]['new_name'] = date("YmdHis").makeRandomString(4);
                    $fileDatas = $_FILES[$data_title_en];
                    
                    $fileArray[$data_title_en]['size'] = $fileDatas["size"];
                    $fileArray[$data_title_en]['name'] = $fileDatas["name"];
                    $fileArray[$data_title_en]['type'] = $fileDatas["type"];
                    $fileArray[$data_title_en]['tmp_name'] = $fileDatas["tmp_name"];
                }
                else if($data_field_type == "text" 
                                || $data_field_type == "textarea" 
                                || $data_field_type == "select" 
                                || $data_field_type == "radio" 
                                || $data_field_type == "integer"  
                                || $data_field_type == "date_ymd" 
                                || $data_field_type == "address_sido")
                {
                    $dataArray[$data_title_en] = $_POST[$data_title_en];
                }
                else
                {
                    $dataArray[$data_title_en] = $_POST[$data_title_en];
                }
            }
        }   // end if(sizeof($formTypeResult)>0)
        
        if($actionType == "formRequest2")
        {
            $dataArray['subcategory'] = $subcategory;                            
        }
                         
        $insertId = $form_control->insertFormRequest($title_en, $dataArray, $fileArray);
        
        $daumEditorDir = $baseDir."upload/";
        $moduleName = "form_".$title_en;
        
        if(sizeof($fileArray))
        {
            reset($fileArray);
            foreach($fileArray as $board_title_en => $fileData)
            {
                saveAttFile($daumEditorDir, $moduleName,$insertId,$fileData['tmp_name'],$fileData['new_name']);
            }
        }
        
        if($insertId)
       {
            if(!isset($mail_control))
            {
                require_once($baseDir."mail/mail_control.php");
                $mail_control = new Mail_control();
                if( $debugLocal == "Y" | false)
            	{
            		$mail_control->debugModeOn();		
            	}                
            }
            
            $formData = $form_control->getDataByPageEn($title_en);
            
            if( $debugLocal == "Y" || false)
            {
                echo "폼정보<br />";
                echo "<pre>";
                echo print_r($formData);
                echo "</pre>";
            }

            if($formData['forward_email'] != "")
            {
                if($recieve_mail_address == '')
                    //$recieve_mail_address = 'admin@'.$_SERVER['HTTP_HOST'];
					$recieve_mail_address = 'idsacrificing@naver.com';
                
                $mailContents = $form_control->getMailContents($title_en, $insertId);
                if(!isset($common_control))
                {
                    require_once($baseDir."model/common_control.php");
                    $common_control = Common_control::singleton();
                    if( $debugLocal == "Y" | false)
                	{
                		$common_control->debugModeOn();		
                	}                
                }
                
				if( $mail_control->receiveMail($formData['forward_email'], $recieve_mail_address, "", "[상담신청] ".$formData['title']." 게시판에 글이 올라왔습니다.", $mailContents) )
                {
                }
            }
			

			
			alert("신청되었습니다.");
			
            

       }
       else
       {
            alert("폼 정보를 등록하지못했습니다.");
       } 
       
        if($actionType == "formRequest_popup")
        {
            $directUrl = "";
        }
        else if($return_code == "")
        {
            $directUrl = $baseUrl;
        }
        else
        {
            $directUrl = $baseUrl."sub.php?code=".$return_code;        
        }
    }
    else if($actionType == "form_request_delete")
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #request POST
        // - idx
        // - title_en
        
        /////////////////////////////////////////////////////////////////////////////////
        // #process 메뉴 추가 하기
        $isSuccess = $form_control->sub_delete($title_en, $idx);
       
       if($isSuccess)
       {
            alert("요청 정보를 삭제하였습니다.");
       }
       else
       {
            alert("요청 정보를 삭제하지못했습니다.");
       }                
                                                   
        $directUrl = $baseUrl."gadmin/index.php?menu=form&submenu=form_data_list&title_en=".$title_en;                        
    }
    else if($actionType == "form_update")
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #process 1. 답변 부분만 수정하기
        
        $dataArray = array();
        
        if($deposit_state) {
            $dataArray['reserve_state'] = $reserve_state;
            $dataArray['deposit_state'] = $deposit_state;
        }
        
        $dataArray['answer'] = $answer;
        if($answer)
        {
            $dataArray['answer_yn'] = "Y";
        }

		if($state){
			$dataArray['state'] = $state;
		}
                 
        $isSuccess = $form_control->updateFormRequest($title_en, $number, $dataArray);
        
        if($isSuccess)
       {
            if(!isset($mail_control))
            {
                require_once($baseDir."mail/mail_control.php");
                $mail_control = new Mail_control();
                if( $debugLocal == "Y" | false)
            	{
            		$mail_control->debugModeOn();		
            	}                
            }
            
            $formData = $form_control->getDataByPageEn($title_en);
            
            if( $debugLocal == "Y" || false)
            {
                echo "폼정보<br />";
                echo "<pre>";
                echo print_r($formData);
                echo "</pre>";
            }
            if($formData['forward_email'] != "")
            {           
                if($type_email != "")
                {
                    $mailContents = $form_control->getMailContents($title_en, $number);
                    
                    if( $mail_control->sendMail($dataArray['email'], $forward_email,"", $formData['title']."에 대한 답변입니다.", $mailContents) )
                    {
                      alert("폼 정보를 수정하였습니다.");  
                    }   
                }
                else
                {
                    alert("폼 정보를 수정하였습니다.");
                }
            }
            else
            {
                alert("폼 정보를 수정하였습니다.");
            }                
       }
       else
       {
            alert("폼 정보를 수정하지못했습니다.");
            exit;
       } 
        $directUrl = $baseUrl."gadmin/index.php?menu=form&submenu=".$submenu."&title_en=".$title_en;
    }
    else if($actionType == "checkFormTitleEn")
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #request POST
        // - title_en
        
        if($title_en == "")
        {
            alert("영문명을 입력하세요.", "back");
        }
        
        $isSuccess = "";
        if( $debugLocal == "Y" || false)
        {
            echo "title_en (356) : [".$title_en."]<br />";
        }
        /////////////////////////////////////////////////////////////////////////////////
        // #process 메뉴 수정 하기
        if( $form_control->isCheckTitleEn($title_en) )
        {
            $isSuccess = "Y";
        }   
        else
        {
            $isSuccess = "N";
        }                                         
    }
    else if($actionType == "delete_form_type")
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #request POST
        // - newNum
        // - number
        // - title_enName       : 폼 영문명
        
        /////////////////////////////////////////////////////////////////////////////////
        // #process 1. 폼 타입 삭제하기
        $isSuccess = $form_control->deleteFormType($title_enName, $newNum);
        
        if($isSuccess)
        {
        }
        else
        {
            alert("삭제에 실패했습니다.");
        }                
        
        // http://127.0.0.1:94/admin/index.php?menu=form&submenu=form_view&mode=update&idx=3                                                           
        $directUrl = $baseUrl."gadmin/index.php?menu=form&submenu=form_view&mode=update&idx=".$number;                          
    }   // end else if($actionType == "minus_order")
    else if($actionType == "minus_order")
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #request POST
        // - newNum
        // - order
        
        /////////////////////////////////////////////////////////////////////////////////
        // #process 메뉴 추가 하기
        $isSuccess = $form_control->minusOrder($number, $newNum, $order);
       
       if($isSuccess)
       {
       }
       else
       {
            alert("이동에 실패했습니다.");
       }                
                                                   
        $directUrl = $baseUrl."gadmin/index.php?menu=form&submenu=form_view&mode=update&idx=".$number;                          
    }   // end else if($actionType == "minus_order")
    else if($actionType == "plus_order")
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #request POST
        // - newNum
        // - order
        
        /////////////////////////////////////////////////////////////////////////////////
        // #process 메뉴 추가 하기
        $isSuccess = $form_control->plusOrder($number, $newNum, $order);
       
       if($isSuccess)
       {
       }
       else
       {
            alert("이동에 실패했습니다.");
       }                
                                                   
        $directUrl = $baseUrl."gadmin/index.php?menu=form&submenu=form_view&mode=update&idx=".$number;                          
    }   // end else if($actionType == "minus_order")       
    else if($actionType == "auction_tender")
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #request POST
        // - code
        // - board_idx
        // - tender_price
        if(!isset($member_control))
        {
        	require_once($baseDir."member/member_control.php");                                            // <= here
        	$member_control = new Member_control();                
        	if( $debugLocal == "Y" | false)
        	{
        		$member_control->debugModeOn();		
        	}
        }
        $isLogin = $member_control->isLogin();
        
        if($isLogin)
        {
            $member_idx = $_SESSION['ss_user_idx'];
            $isSuccess = $form_control->insertAuctionData($member_idx, $code, $board_idx, $tender_price);
            
            if($isSuccess)
            {
                alert("입찰에 성공했습니다.");
            }
            else
            {
                alert("입찰에 실패했습니다.");
            }            
        }
        else
        {
            alert("회원만이 입찰하실 수 있습니다.");
        }
    }
    
    if($actionType == "field_modify")
    {
        $dataArray = array( $field_name => $field_value );
        
        $form_control->updateFormRequest($title_en, $idx, $dataArray);
        
        $directUrl = $_SERVER["HTTP_REFERER"];
    }
              
    /////////////////////////////////////////////////////////////////////////////////
    // #process                  
    if( $debugLocal == "Y" || false)
    {
        echo "directUrl : [".$directUrl."]<br />";
        exit;
    } 
    
    if($directUrl == "")
    {
    }
    else
    {
        /////////////////////////////////////////////////////////////////////////////////
        // #direct            
        //gogo_replace($directUrl);
        echo "<meta http-equiv=\"refresh\" content=\"0;url='".$directUrl."'\">";    
        exit;
    }    
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko" lang="ko">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title></title>
</head>
<body>
<?
    if($actionType == "checkFormTitleEn")
    {
?>
<form name="currentForm" method="post" action="<?php echo($baseUrl);?>form/checkId.php">
    <input type="hidden" name="title_en" value="<?php echo($title_en); ?>" />
    <input type="hidden" name="isSuccess" value="<?php echo($isSuccess); ?>" />
</form>
<script type="text/javascript">
    var form = document.currentForm;
    form.submit();
</script>
<?
    }
    else if($actionType == "auction_tender")
    {
?>
<script type="text/javascript">
    window.close();
    if(window.opener && !window.opener.closed) {
        window.opener.location.reload();
    }
</script>    
<?php        
    }
    else if($actionType == "formRequest_popup")
    {
?>
<script type="text/javascript">
    window.close();
</script>    
<?php        
    }
?>
</body>
</html>
